@inject HttpClient Http

<link rel="stylesheet" href="css/style_general.css">
@* Gestionar *@
<div class="btn-toolbar mb-3" role="toolbar" aria-label="Toolbar with button groups">
  <div class="btn-group me-2" role="group" aria-label="First group">
    <button type="button" class="btn btn-primary">Libro</button>
    <button type="button" class="btn btn-primary">Cliente</button>
    <button type="button" class="btn btn-primary">Autor</button>
    <button type="button" class="btn btn-primary">Préstamo</button>
    <button type="button" class="btn btn-primary">Categoría</button>
    <button type="button" class="btn btn-primary">Editorial</button>
  </div>
</div>


@* Prestamos *@
<div class="btn-toolbar mb-3" role="toolbar" aria-label="Toolbar with button groups">
  <div class="btn-group me-2" role="group" aria-label="First group">
    <button type="button" class="btn btn-primary">Libro</button>
    <button type="button" class="btn btn-primary">Cliente</button>
    <button type="button" class="btn btn-primary">Autor</button>
    <button type="button" class="btn btn-primary">Fecha</button>
  </div>
</div>


@* Usuarios *@
<div class="btn-toolbar mb-3" role="toolbar" aria-label="Toolbar with button groups">
  <div class="btn-group me-2" role="group" aria-label="First group">
    <button type="button" class="btn btn-primary">Nombre</button>
    <button type="button" class="btn btn-primary">Apellido</button>
    <button type="button" class="btn btn-primary">Correo</button>
    <button type="button" class="btn btn-primary">Matricula</button>
  </div>
</div>


@* Libros *@
<div class="btn-toolbar mb-3" role="toolbar" aria-label="Toolbar with button groups">
  <div class="btn-group me-2" role="group" aria-label="First group">
    <button type="button" class="btn btn-primary" @onclick="Nombre">Libro</button>
    <button type="button" class="btn btn-primary" @onclick="Nombre">Autor</button>
    <button type="button" class="btn btn-primary" @onclick="Nombre">Publicación</button>
    <button type="button" class="btn btn-primary" @onclick="Nombre">Categoría</button>
    <button type="button" class="btn btn-primary" @onclick="Nombre">Editorial</button>
  </div>
</div>

<div class="input-group mb-3 mt-3 input-group-lg ">
  <span class="input-group-text" id="basic-addon1">
    <img src="/images/icon_Search.svg" class="image-fluid" alt="">
  </span>
  <input type="text" class="form-control" placeholder="@Username" aria-label="Username" aria-describedby="basic-addon1">
</div>

  @if (Datos == null)
  {
    <p><em>Cargando...</em></p>
  }else{
    <div class="container m-0 p-3 mt-5" style="background-color: #6586ad; border-radius: 0.5rem;">
      <h3 class="text-center text-light">
        <strong>@TituloN</strong> </h3>
      <div style="border-radius: 0.3rem; height: 500px; overflow-y: scroll;" class="container bg-light m-0 p-0">
        <table class="table">
          <thead class="thead" style="background-color: transparent;">
            <tr>
              <th>Nombre</th>
              <th>Apellido</th>
              <th>Libro Nombre</th>
              <th>Estado</th>
              <th>Matricula</th>
              <th>Fecha Préstamo</th> <th>Fecha Entrega</th>
              <th></th>
              <th></th>
            </tr>
          </thead>
          <tbody>
            @foreach (var forecast in Datos)
            {
              <tr>
                <td>@forecast.Nombre</td>
                <td>@forecast.Apellido</td>
                <td>@forecast.LibroNombre</td>
                <td>@forecast.Estado</td>
                <td>@forecast.Matricula</td>
                <td>@forecast.FrechaPrestamo.ToString("dd/MM/yyyy")</td>  
                <td>@forecast.FechaEntrega.ToString("dd/MM/yyyy")</td>  
                <td>
                  <button type="button" class="btn btn-info btn-sm">Editar</button>
                </td>
                <td>
                  <button type="button" class="btn btn-danger btn-sm">Eliminar</button>
                </td>
              </tr>
            }
          </tbody>
        </table>
      </div>
    </div>
    }
  <TGestionar></TGestionar>
  <TPrestamos></TPrestamos>
  <TUsuarios></TUsuarios>
  <TLibros></TLibros>
@code {

  string nombre="Libor", Username="";

    void Nombre(){
      Username = nombre;
    }
  private WeatherForecast[]? Datos;
  private string TituloN = "Nombre libro"; // Título inicial

  protected override async Task OnInitializedAsync()
  {
    Datos = await Http.GetFromJsonAsync<WeatherForecast[]>("sample-data/DataGestionar.json");
  }

  public class WeatherForecast
  {
    public string? Nombre { get; set; }
    public string? Apellido { get; set; }
    public string? LibroNombre { get; set; }
    public string? Estado { get; set; }
    public int Matricula { get; set; }
    public DateOnly FrechaPrestamo { get; set; }
    public DateOnly FechaEntrega { get; set; }
  }
}