@inject HttpClient Http
@inject Prestamos prestamo
@if (FsP == null)
{
  <p><em>Cargando...</em></p>
}
else
{
  <div class="container m-0 p-3 mt-5" style="background-color: #689d6d; border-radius: 0.5rem;">
    <h3 class="text-center text-light">
      <strong></strong>  
    </h3>
    <div style="border-radius: 0.3rem; height: 500px; overflow-y: scroll;" class="container bg-light m-0 p-0">
      <table class="table">
        <thead class="thead" style="background-color: transparent;">
          <tr>
            <th>Fecha de Pr√©stamo</th>
            <th>Fecha de Entrega</th>
            <th>Estado</th>
            <th>Cliente</th>
            <th>Libro</th>
            <th></th>
            <th></th>
          </tr>
        </thead>
        <tbody>
          @foreach (var forecast in FsP)
          {
            <tr>
              <td>@forecast.fecha_prestamo</td>
              <td>@forecast.fecha_entrega</td>
              <td>@forecast.estado</td>
              <td>@forecast.cliente</td>
              <td>@forecast.libro</td>
              <td>
                <button type="button" class="btn btn-info btn-sm">Editar</button>
              </td>
              <td>
                <button type="button" class="btn btn-danger btn-sm">Eliminar</button>
              </td>
            </tr>
          }
        </tbody>
      </table>
    </div>
  </div>
}


@code {
  private WeatherForecast[]? FsP;
  private string Titulo = "Fecha Prestamos";
  protected override async Task OnInitializedAsync()
  {
    FsP = await Http.GetFromJsonAsync<WeatherForecast[]>("https://localhost:7268/api/Prestamo");
  }

  public class WeatherForecast
  {
    public string? fecha_prestamo { get; set; }
    public string? fecha_entrega { get; set; }
    public string? estado { get; set; }
    public string? cliente { get; set; }
    public string? libro { get; set; }
  
  }

  private void CambiarTitulo(int NumeroTitulo)
  {
    switch (NumeroTitulo)
    {
      case 1:
        Titulo = "Nombre libro";
        break;
      case 2:
        Titulo = "Nombre Cliente";
        break;
      case 3:
        Titulo = "Nombre Autor";
        break;
      case 4:
        Titulo = "Nombre fecha Prestamo";
        break;
    }
  }

}
